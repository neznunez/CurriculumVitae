<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>t.js Demo 2 Exemplo</title>
    <link rel="stylesheet" href="./style.css">
    <!-- Meta tags para evitar cache -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
</head>
<body>
    <!-- Efeitos de energia digital -->
    <div class="digital-energy"></div>
    <div class="floating-hex">
        <div class="hex"></div>
        <div class="hex"></div>
        <div class="hex"></div>
        <div class="hex"></div>
        <div class="hex"></div>
    </div>
    <div class="energy-lines">
        <div class="energy-line"></div>
        <div class="energy-line"></div>
        <div class="energy-line"></div>
        <div class="energy-line"></div>
    </div>

    <!-- Canvas para o fundo de Part√≠culas -->
    <canvas id="particle-canvas"></canvas>

    <div id="demo"></div>

    <!-- Bot√£o Perform na parte superior centralizada -->
    <div class="top-perform-btn" id="top-perform">‚ö°</div>

    <!-- === Estrutura da Janela de Chat === -->
    <div id="chat-window">
        <div class="minimize-btn" id="minimize-chat">_</div>
        <div class="fullscreen-btn" id="chat-fullscreen">‚õ∂</div>
        <div class="perform-btn" id="chat-perform">‚ö°</div>
        <div id="chat-history">
            <!-- Hist√≥rico de mensagens ser√° adicionado aqui (est√°tico por enquanto) -->
            <p class="chat-message bot"><span class="sender">System:</span> Interface ready. Awaiting input.</p>
            <p class="chat-message user"><span class="sender">You:</span> Initiate diagnostics.</p>
            <p class="chat-message bot"><span class="sender">System:</span> Running diagnostics... All systems nominal.</p>
        </div>
        <div id="chat-input-area">
            <span class="chat-prompt">></span>
            <!-- Input real e bot√£o de envio -->
            <input type="text" id="chat-input" placeholder="Digite aqui...">
            <button id="chat-send-btn">Enviar</button>
            <!-- <span class="fake-input">|</span> --> <!-- Fake input removido -->
        </div>
    </div>
    <!-- === Fim da Estrutura do Chat === -->

    <!-- === Novo Frame de ID === -->
    <div id="id-frame">
        <div class="minimize-btn" id="minimize-id">_</div>
        <div class="fullscreen-btn" id="id-fullscreen">‚õ∂</div>
        <!-- Container para conte√∫do -->
        <div id="id-content">
            <div class="id-header">
                <span style="color:#00ff00;">ID.</span>
                <hr/>
            </div>
            <!-- √Årea de conte√∫do -->
            <div id="id-area" class="id-grid-container">
                <div class="id-photo">
                    <img src="assets/3x4.png" alt="Foto 3x4" class="profile-photo">
                </div>
                <div class="id-info">
                    <div class="info-section">
                        <p class="id-name">Jo√£o Victor Nunes</p>
                        <p class="id-username">@neznunez</p>
                        <p class="id-birth">6 de Janeiro de 2000 (25 years)</p>
                        <p class="id-location">Rio de Janeiro, Brazil</p>
                        <p class="id-email">jvnunes066@gmail.com</p>
                        <p class="id-phone">+5521971695864</p>
                    </div>
                </div>
                <div class="education-section fullscreen-only">
                    <h3 class="education-title">Forma√ß√£o</h3>
                    <div class="education-item">
                        <p class="school-name">Col√©gio Pedro II - Unidade Humait√° I, Humait√°</p>
                        <p class="course-name">Ensino fundamental/m√©dio</p>
                        <p class="education-period">2006-2018</p>
                    </div>
                    <div class="education-item">
                        <p class="school-name">PUC-RIO</p>
                        <p class="course-name">Design em Comunica√ß√£o Visual</p>
                        <p class="education-period">2019-2025</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- === Fim do Novo Frame de ID === -->

    <!-- === Novo Frame no Canto Inferior Esquerdo === -->
    <div id="info-frame">
        <div class="minimize-btn" id="minimize-bio">_</div>
        <div class="fullscreen-btn" id="bio-fullscreen">‚õ∂</div> <!-- Movido e classe alterada -->
        <!-- Container para a biografia com t.js -->
        <div id="bio-text"></div>
        <!-- Bot√µes de navega√ß√£o -->
        <div class="bio-nav-buttons">
            <div class="bio-nav-btn" id="bio-scroll-up">‚ñ≤</div>
            <div class="bio-nav-btn" id="bio-scroll-down">‚ñº</div>
            <!-- Bot√£o de fullscreen removido daqui -->
        </div>
    </div>
    <!-- === Fim do Novo Frame === -->
    
    <!-- === Bot√£o Portfolio === -->
    <button id="portfolio-btn" class="portfolio-button">
        <div class="text">
            <div class="r">PORTFOLIO</div>
            <div class="g">PORTFOLIO</div>
            <div class="b">PORTFOLIO</div>
        </div>
    </button>

    <!-- === Novo Frame Central === -->
    <div id="middle-frame">
        <div class="minimize-btn" id="minimize-middle">_</div>
        <div class="fullscreen-btn" id="middle-fullscreen">‚õ∂</div>
        <!-- Container para conte√∫do -->
        <div id="middle-content">
            <div class="middle-header">
                <span style="color:lime;">EXP</span>
                <hr/>
            </div>
            <!-- √Årea de conte√∫do -->
            <div id="middle-area">
                <!-- Conte√∫do vazio por enquanto -->
            </div>
        </div>
        <!-- Bot√µes de navega√ß√£o -->
        <div class="middle-nav-buttons">
            <div class="bio-nav-btn" id="middle-scroll-up">‚ñ≤</div>
            <div class="bio-nav-btn" id="middle-scroll-down">‚ñº</div>
        </div>
    </div>
    <!-- === Fim do Novo Frame Central === -->
    
    <!-- === Frame de Habilidades === -->
    <div id="skills-frame">
        <div class="minimize-btn" id="minimize-skills">_</div>
        <div class="fullscreen-btn" id="skills-fullscreen">‚õ∂</div>
        <div id="skills-content">
            <div class="skills-header">
                <span style="color:lime;">SKILLS</span>
                <hr/>
            </div>
            <div id="skills-area">
                <!-- Design -->
                <div class="skill-category gold">
                    <span class="category-icon">üé®</span>Design
                </div>
                <div class="skill-entry">
                    <span class="skill-name">Adobe Creative Cloud</span>
                    <div class="progress-bar-background gold">
                        <div class="progress-bar-foreground" data-percentage="90%" style="width: 0%;">
                            <span class="level-text">Avan√ßado</span>
                        </div>
                    </div>
                </div>
                <div class="skill-entry">
                    <span class="skill-name">Figma</span>
                    <div class="progress-bar-background gold">
                        <div class="progress-bar-foreground" data-percentage="70%" style="width: 0%;">
                            <span class="level-text">Intermedi√°rio</span>
                        </div>
                    </div>
                </div>

                <!-- Desenvolvimento -->
                <div class="skill-category green">
                    <span class="category-icon">üíª</span>Desenvolvimento de Software
                </div>
                <div class="skill-entry">
                    <span class="skill-name">HTML/CSS</span>
                    <div class="progress-bar-background green">
                        <div class="progress-bar-foreground" data-percentage="95%" style="width: 0%;">
                            <span class="level-text">Avan√ßado</span>
                        </div>
                    </div>
                </div>
                <div class="skill-entry">
                    <span class="skill-name">JavaScript</span>
                    <div class="progress-bar-background green">
                        <div class="progress-bar-foreground" data-percentage="85%" style="width: 0%;">
                            <span class="level-text">Avan√ßado</span>
                        </div>
                    </div>
                </div>
                <div class="skill-entry">
                    <span class="skill-name">APIs / Web</span>
                    <div class="progress-bar-background green">
                        <div class="progress-bar-foreground" data-percentage="75%" style="width: 0%;">
                            <span class="level-text">Intermedi√°rio</span>
                        </div>
                    </div>
                </div>
                <div class="skill-entry">
                    <span class="skill-name">Swift</span>
                    <div class="progress-bar-background green">
                        <div class="progress-bar-foreground" data-percentage="75%" style="width: 0%;">
                            <span class="level-text">Intermedi√°rio</span>
                        </div>
                    </div>
                </div>

                <!-- 3D & Real-Time -->
                <div class="skill-category purple">
                    <span class="category-icon">üé≤</span>3D & Real-Time / Games
                </div>
                <div class="skill-entry">
                    <span class="skill-name">Unity</span>
                    <div class="progress-bar-background purple">
                        <div class="progress-bar-foreground" data-percentage="65%" style="width: 0%;">
                            <span class="level-text">Intermedi√°rio</span>
                        </div>
                    </div>
                </div>
                <div class="skill-entry">
                    <span class="skill-name">Blender</span>
                    <div class="progress-bar-background purple">
                        <div class="progress-bar-foreground" data-percentage="65%" style="width: 0%;">
                            <span class="level-text">Intermedi√°rio</span>
                        </div>
                    </div>
                </div>
                <div class="skill-entry">
                    <span class="skill-name">Unreal Engine</span>
                    <div class="progress-bar-background purple">
                        <div class="progress-bar-foreground" data-percentage="65%" style="width: 0%;">
                            <span class="level-text">Intermedi√°rio</span>
                        </div>
                    </div>
                </div>

                <!-- Interatividade -->
                <div class="skill-category blue">
                    <span class="category-icon">‚ú®</span>Interatividade & Novas M√≠dias
                </div>
                <div class="skill-entry">
                    <span class="skill-name">TouchDesigner</span>
                    <div class="progress-bar-background blue">
                        <div class="progress-bar-foreground" data-percentage="70%" style="width: 0%;">
                            <span class="level-text">Intermedi√°rio</span>
                        </div>
                    </div>
                </div>
                <div class="skill-entry">
                    <span class="skill-name">Realidade Aumentada</span>
                    <div class="progress-bar-background blue">
                        <div class="progress-bar-foreground" data-percentage="70%" style="width: 0%;">
                            <span class="level-text">Intermedi√°rio</span>
                        </div>
                    </div>
                </div>
                <div class="skill-entry">
                    <span class="skill-name">Realidade Virtual</span>
                    <div class="progress-bar-background blue">
                        <div class="progress-bar-foreground" data-percentage="70%" style="width: 0%;">
                            <span class="level-text">Intermedi√°rio</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- === Fim do Novo Frame de Habilidades === -->

    <!-- Bot√µes flutuantes para janelas minimizadas -->
    <div class="floating-icons-container">
        <div class="floating-icon" id="id-icon">ID</div>
        <div class="floating-icon" id="bio-icon">BIO</div>
        <div class="floating-icon" id="middle-icon">EXP</div>
        <div class="floating-icon" id="skills-icon">SKL</div> <!-- Novo √≠cone SKL -->
        <div class="floating-icon" id="ai-icon">AI</div>
    </div>
    
    <!-- Modal para visualiza√ß√£o em tela cheia -->
    <div class="bio-modal" id="bio-modal">
        <div class="bio-modal-content">
            <div class="bio-modal-header">
                <div class="bio-modal-title">BIO</div>
                <div class="bio-modal-close" id="bio-modal-close">‚úï</div>
            </div>
            <div id="bio-modal-text"></div>
        </div>
    </div>

    <!-- Modal para visualiza√ß√£o em tela cheia do chat -->
    <div class="chat-modal" id="chat-modal">
        <div class="chat-modal-content">
            <div class="chat-modal-header">
                <div class="chat-modal-title">CHAT INTERFACE</div>
                <div class="chat-modal-close" id="chat-modal-close">‚úï</div>
            </div>
            <div id="chat-modal-content">
                <div id="chat-modal-history"></div>
                <div id="chat-modal-input-area">
                    <span class="chat-prompt">></span>
                    <input type="text" id="chat-modal-input" placeholder="Digite aqui...">
                    <button id="chat-modal-send-btn">Enviar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para visualiza√ß√£o em tela cheia do frame central -->
    <div class="middle-modal" id="middle-modal">
        <div class="middle-modal-content">
            <div class="middle-modal-header">
                <div class="middle-modal-title">EXP</div>
                <div class="middle-modal-close" id="middle-modal-close">‚úï</div>
            </div>
            <div id="middle-modal-content"></div>
        </div>
    </div>

    <!-- Modal para visualiza√ß√£o em tela cheia do frame de ID -->
    <div class="id-modal modal-template" id="id-modal"> <!-- Adicionada classe gen√©rica modal-template -->
        <div class="modal-content-template"> <!-- Adicionada classe gen√©rica -->
            <div class="modal-header-template"> <!-- Adicionada classe gen√©rica -->
                <div class="modal-title-template">INFORMA√á√ïES PESSOAIS</div> <!-- Adicionada classe gen√©rica -->
                <div class="modal-close-template" id="id-modal-close">‚úï</div> <!-- Adicionada classe gen√©rica -->
            </div>
            <div id="id-modal-content-area"></div> <!-- √Årea de conte√∫do espec√≠fica -->
        </div>
    </div>

    <!-- Modal para visualiza√ß√£o em tela cheia do frame de Habilidades -->
    <div class="skills-modal modal-template" id="skills-modal">
        <div class="modal-content-template">
            <div class="modal-header-template">
                <div class="modal-title-template">SKILLS</div>
                <div class="modal-close-template" id="skills-modal-close">‚úï</div>
            </div>
            <div id="skills-modal-content-area">
                <!-- O conte√∫do das habilidades ser√° copiado aqui dinamicamente -->
            </div>
        </div>
    </div>

    <!-- Container do modo Perform -->
    <div id="perform-container">
        <div id="perform-messages">
            <!-- As mensagens ser√£o adicionadas aqui dinamicamente -->
        </div>
        <div id="perform-input-area">
            <span class="chat-prompt">&gt;</span>
            <input type="text" id="perform-input" placeholder="Digite seu comando aqui...">
            <button id="perform-send-btn">Enviar</button>
        </div>
        <button id="exit-perform-btn">SAIR</button>
    </div>

    <!-- Modal de Senha para Modo Admin -->
    <div id="admin-password-modal" class="password-modal" style="display: none;">
        <div class="password-modal-content">
            <h4>ACESSO RESTRITO</h4>
            <label for="admin-password-input" class="password-label">Senha:</label>
            <input type="password" id="admin-password-input" class="password-input">
            <p id="admin-password-error" class="password-error-message" style="display: none;">Senha incorreta!</p>
            <div class="password-modal-buttons">
                <button id="admin-password-submit" class="password-button">Entrar</button>
                <button id="admin-password-cancel" class="password-button cancel">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Incluir jQuery (necess√°rio para t.js) -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- Incluir t.js (baixado localmente) -->
    <script src="./t.min.js"></script>
    <!-- Script para inicializar o t.js -->
    <script>
        $(function(){ // Executar quando o documento estiver pronto

            // Vari√°veis para controle do Modo Admin e Edi√ß√£o de Persona
            let isInPerformMode = false; // Ser√° atualizada pela l√≥gica existente do Modo Perform
            let keySequenceBuffer = "";
            const targetSequence = "admin";
            let isInPersonaEditMode = false;
            const adminPassword = "1234"; // Senha para o modo admin

            // Vari√°vel para contar os anos
            let yearCounter = 2000;
            const startYear = 2000;
            const endYear = 2025;
            const totalYears = endYear - startYear;

            const content = '<del>~</del>' + // Limpeza m√≠nima inicial
                            '<ins><span style="color:lime;">Jo√£o Victor Nunez ---===--- Digital Twin (C)</span></ins><hr/>' + // Nova linha de copyright
                            '<ins>0.2</ins>Initializing core systems...<ins>0.4</ins> <span style="color:lime;">OK.</span><br/>' + // Delays reduzidos
                            '<ins>Connecting neural interface</ins><ins>0.1</ins>.<ins>0.1</ins>.<ins>0.1</ins>.<ins>0.2</ins> <span style="color:lime;">Established.</span><br/>' + // Delays reduzidos
                            '<ins>0.1</ins>Loading lifetime memories: <span id="year-display" style="color:cyan;">2000</span> [<span id="progress-bar" style="color:cyan;"></span>]' + // Spans est√°ticos
                            // 25 caracteres zero-width space como gatilhos invis√≠veis
                            '<s>50</s>' + '\u200B'.repeat(25) + '<s>15</s>' + // Velocidade 50 controla a atualiza√ß√£o.
                            ' <span style="color:lime;"> Memories loaded.</span><br/><ins>0.2</ins>' + // Mensagem final
                            // Adiciona um delay m√≠nimo antes do span gatilho
                            '<ins>0.01</ins><span id="trigger-chat-reveal"></span>' + 
                            '<ins>0.5</ins>Updating chat interface...<ins>0.5</ins> <span style="color:lime;">OK.</span><br/>' + 
                            'Syncing chronometers...<ins>0.2</ins> <span style="color:lime;">Synced.</span><br/>' + // Delay reduzido
                            '<ins>0.15</ins>Mounting Knowledge Vault <kbd>/dev/memex0</kbd>...<ins>0.2</ins> <span style="color:lime;">OK.</span><br/>' + 
                            '<ins>0.15</ins>Optimizing cognitive functions...<ins>0.4</ins> <span style="color:lime;">Complete.</span><br/><ins>0.2</ins>' + // Delays reduzidos
                            'System status: <span style="color:lime;">ONLINE</span> | Core Process <kbd>dt_interface</kbd> [PID: <kbd>4278</kbd>] <span style="color:lime;">STABLE</span><br/><ins>0.4</ins>' + // Delay reduzido
                            'neznunez:/# <span id="__final_caret"></span>'; // Prompt final

            // Vari√°veis para controle din√¢mico de velocidade (n√£o mais usadas para hashing)
            let initialSpeed = 15;
            let currentSpeed = initialSpeed;
            let accelerate = false;
            const maxBarLength = 26; // Mant√©m o tamanho da barra

            $('#demo').t(content, {
                speed: initialSpeed, // Usar a vari√°vel inicial
                mistype: 50,
                pause_on_click: true,
                caret: '<span class="t-caret-blink">_</span>',
                init: function(elm) {
                    // Reseta o contador de ano no in√≠cio (caso seja repetido)
                    yearCounter = startYear;
                    $('#year-display').text(startYear);
                    $('#progress-bar').text('');
                },
                typing: function(elm, chr_or_elm, left, total) {

                    // --- L√≥gica para atualizar ano/barra ao processar os gatilhos invis√≠veis --- 
                    if (chr_or_elm === '\u200B') { // Verifica pelo zero-width space
                        yearCounter++; // Incrementa o ano
                        if (yearCounter <= endYear) {
                            $('#year-display').text(yearCounter); // Atualiza o display do ano

                            // Calcula e atualiza a barra de progresso
                            const progress = (yearCounter - startYear) / totalYears;
                            const filledChars = Math.round(progress * maxBarLength);
                            const progressBarText = '‚ñà'.repeat(filledChars);
                            $('#progress-bar').text(progressBarText); // Atualiza a barra
                        }
                    }
                    // --- Fim da l√≥gica ano/barra ---

                    // L√≥gica de acelera√ß√£o para o hashing (mantida)
                    if (typeof chr_or_elm === 'string' && chr_or_elm.includes('class="dynamic-speed"')) {
                        accelerate = true;
                        currentSpeed = initialSpeed;
                    }
                    if (accelerate) {
                        currentSpeed = Math.max(10, currentSpeed - 0.5);
                        elm.s(currentSpeed);
                    }
                    if (accelerate && typeof chr_or_elm === 'string' && chr_or_elm.includes('</span>')) {
                        accelerate = false;
                        currentSpeed = initialSpeed;
                        elm.s(currentSpeed);
                    }

                    // Detectar quando o gatilho de revela√ß√£o do chat √© processado
                    if (typeof chr_or_elm === 'object' && $(chr_or_elm).attr('id') === 'trigger-chat-reveal') {
                        // Adiciona a classe .chat-visible ao chat-window
                        $('#chat-window').addClass('chat-visible');
                    }
                },
                fin: function(elm) {
                    // Garante que o cursor final esteja vis√≠vel e piscando
                    elm.find('.t-caret').show().addClass('t-caret-blink');
                    
                    // Faz o terminal desaparecer ap√≥s um tempo
                    setTimeout(function() {
                        // Adiciona a classe que faz o terminal desaparecer com anima√ß√£o
                        $('#demo').addClass('disappearing');
                        
                        // Atribuir √≠ndices para o efeito byte por byte
                        $('#demo span, #demo kbd').each(function(index) {
                            $(this).css('--char-index', index);
                        });
                        
                        // Efeito visual para destacar a transi√ß√£o
                        App.triggerPulse();
                        
                        // Efeitos adicionais para o desaparecimento
                        setTimeout(function() {
                            // Um segundo pulso no meio da anima√ß√£o
                            App.triggerPulse();
                            
                            // Simula√ß√£o de "desligamento" do terminal
                            $('#demo').append('<span class="terminal-shutdown-message" style="color:lime; position:absolute; bottom:5px; right:10px; opacity:0; animation:fadeIn 0.3s forwards;">[ TERMINAL SHUTDOWN SEQUENCE INITIATED ]</span>');
                        }, 1000);
                    }, 6000); // Espera 6 segundos ap√≥s a anima√ß√£o terminar
                }
            });

            // --- Iniciar Anima√ß√£o do Chat com Atraso --- 
            // Estimativa de tempo (em ms) para iniciar a anima√ß√£o do chat
            const chatRevealDelay = 6000; // Ajuste este valor se necess√°rio (aprox. 3.6 segundos)
            setTimeout(() => {
                $('#chat-window').addClass('chat-visible');
            }, chatRevealDelay);
            // --- Fim do Atraso do Chat ---

            // --- Iniciar Anima√ß√£o do Novo Frame com Atraso --- 
            // Mostrar o frame vazio logo ap√≥s o chat
            const frameRevealDelay = chatRevealDelay + 800; // 800ms ap√≥s o chat aparecer
            setTimeout(() => {
                $('#info-frame').addClass('frame-visible');
                
                // Mostrar a janela central ap√≥s um pequeno atraso
                setTimeout(() => {
                    $('#middle-frame').addClass('frame-visible');
                    // Pulso para destacar a apari√ß√£o
                    App.triggerPulse();
                    
                    // Revelar o bot√£o de perform ap√≥s as janelas estarem vis√≠veis
                    setTimeout(() => {
                        // Remove qualquer classe anterior que possa afetar a visibilidade
                        $('#top-perform').removeClass('pulsing');
                        
                        // Adiciona a classe para iniciar a anima√ß√£o de revela√ß√£o
                        $('#top-perform').addClass('revealed');
                        
                        // Efeito sonoro para a revela√ß√£o (apenas vibra√ß√£o)
                        if (window.navigator && window.navigator.vibrate) {
                            window.navigator.vibrate([50, 30, 50]);
                        }
                        
                        // Ap√≥s a anima√ß√£o de revela√ß√£o, adiciona o efeito de pulso
                        setTimeout(() => {
                            $('#top-perform').addClass('pulsing');
                            App.triggerPulse(); // Pulso no fundo
                            
                            // For√ßar a visibilidade do bot√£o ap√≥s tudo
                            setTimeout(() => {
                                // Garantir que o bot√£o continue vis√≠vel com estilo inline
                                $('#top-perform').css({
                                    'opacity': '1',
                                    'transform': 'translateX(-50%) scale(1)',
                                    'filter': 'blur(0)'
                                });
                            }, 100);
                        }, 1300); // Aguarda a anima√ß√£o de revela√ß√£o terminar
                    }, 1000); // 1 segundo ap√≥s a janela central aparecer

                    // Mostrar id-frame e skills-frame ap√≥s o terminal desaparecer
                    setTimeout(() => {
                        // Mostrar ambos os frames juntos
                        $('#id-frame').addClass('frame-visible');
                        $('#skills-frame').addClass('frame-visible');
                        console.log('Revelando frames ID e Skills');
                        App.triggerPulse();

                        // Fun√ß√£o para animar as barras (vers√£o Matrix/Tron)
                        function animateProgressBars($container) {
                            return new Promise((resolve) => {
                                // Primeiro mostra todas as barras vazias com a nova anima√ß√£o Matrix
                                $container.find('.progress-bar-background').addClass('animate');
                                
                                // Adiciona os percentuais com fade
                                setTimeout(() => {
                                    $container.find('.skill-percentage').addClass('animate');
                                }, 300); // Reduzido de 500 para 300
                                
                                // Espera a anima√ß√£o Matrix/glitch terminar (1.5s) + pequeno delay (0.5s)
                                setTimeout(() => {
                                    // Efeito de pulso antes de come√ßar a carregar
                                    App.triggerPulse();
                                    
                                    // Come√ßa a preencher as barras
                                    $container.find('.progress-bar-foreground').each(function() {
                                        const percentage = $(this).data('percentage');
                                        $(this).css('width', percentage);
                                    });
                                    
                                    // Resolve ap√≥s o preenchimento
                                    setTimeout(resolve, 800); // Reduzido de 1000 para 800
                                }, 1500); // Reduzido de 2000 para 1500
                            });
                        }

                        // Fun√ß√£o para animar os nomes
                        function animateSkillNames($container) {
                            return new Promise((resolve) => {
                                $container.find('.skill-entry').each(function(index) {
                                    setTimeout(() => {
                                        $(this).find('.skill-name').addClass('animate');
                                        if (index === $container.find('.skill-entry').length - 1) {
                                            setTimeout(resolve, 200);
                                        }
                                    }, index * 150); // Reduzido de 300 para 150
                                });
                            });
                        }

                        // Executar a sequ√™ncia
                        animateSkillNames($('#skills-frame'))
                            .then(() => animateProgressBars($('#skills-frame')))
                            .then(() => {
                                App.triggerPulse();
                            });

                    }, 13500); // Diminu√≠do de 15000 para 13500 ms

                }, 400);
                
                // Iniciar a anima√ß√£o do texto da biografia ap√≥s o frame se tornar vis√≠vel
                setTimeout(() => {
                    // Conte√∫do da biografia com efeitos de texto - sem pausas e mais direto (movido para escopo global)
                    window.bioContent = 
                        '<span style="color:lime;">BIO</span><hr/>' +
                        'De tudo um pouco. Artista Urbano, Designer Multim√≠dia, procuro sempre utilizar novas ' +
                        'tecnologias para impulsionar meu processo criativo.<br/>' +
                        'Do Graffiti ao Design Gr√°fico, comecei como artista 3D e na cria√ß√£o de ambientes digitais.<br/>' +
                        'Em minha trajet√≥ria acad√™mica, busquei projetos que misturassem esses meus dois mundos: arte ' +
                        'de rua, tecnologia e interatividade.<br/>' +
                        'Com temas que abordam a preserva√ß√£o da hist√≥ria e da mem√≥ria das cidades, e estudos sobre ' +
                        'as futuras rela√ß√µes dos seres humanos com o cen√°rio urbano.<br/>' +
                        '<span style="color:cyan;">Em 2022</span>, participei do programa de Inova√ß√£o Tecnol√≥gica da Apple Developer Academy, onde ' +
                        'me tornei desenvolvedor iOS.<br/>' +
                        'Em desenvolvimento de software, me aprofundei na cria√ß√£o de ferramentas com realidade ' +
                        'aumentada, realidade virtual, escaneamento 3D e solu√ß√µes que usam a c√¢mera do celular para ' +
                        'criar experi√™ncias imersivas dentro do ecossistema Apple.<br/>' +
                        '<span style="color:cyan;">Em 2023</span>, participei da curadoria e desenvolvimento de exposi√ß√µes em realidade aumentada em ' +
                        'Lisboa e em outros lugares do Brasil, incluindo a Embaixada do M√©xico com uma homenagem √† ' +
                        'Frida Kahlo.<br/>' +
                        '<span style="color:cyan;">Em 2024</span>, trabalhei como Designer de Novas M√≠dias voltado para o Entretenimento no est√∫dio ' +
                        'criativo de inova√ß√£o tecnol√≥gica DELED, onde trouxemos solu√ß√µes interativas, com instala√ß√µes e ' +
                        'projetos no Museu do Amanh√£, Rock in Rio e outras grandes marcas.<br/>' +
                        'Pra mim, cada projeto √© uma oportunidade de contar uma hist√≥ria e criar experi√™ncias ' +
                        'impactantes.<br/>' +
                        'Apaixonado por inova√ß√£o, estou sempre em busca de novas ferramentas, linguagens e formatos ' +
                        'para explorar o potencial expressivo da arte e da tecnologia.<br/>' +
                        '<span style="color:lime;">Acredito que a inova√ß√£o acontece quando misturamos diferentes √°reas e conhecimentos ‚Äî e √© ' +
                        'atrav√©s do trabalho em equipe e de trocas genu√≠nas que essas conex√µes se transformam em ' +
                        'ideias vivas, com pot√™ncia real de transforma√ß√£o.</span>';
                    
                    // Inicializar t.js para o texto da biografia - mais r√°pido e sem erros de digita√ß√£o
                    $('#bio-text').t(bioContent, {
                        speed: 5,                // Velocidade muito mais r√°pida
                        mistype: false,          // Sem erros de digita√ß√£o
                        caret: false,            // Sem cursor durante a digita√ß√£o para n√£o distrair
                        fin: function(elm) {
                            // N√£o mostra cursor no final
                        }
                    });

                    // Inicializar t.js para o texto de experi√™ncias - usando abordagem similar
                    $('#middle-area').t(experienciasContent, {
                        speed: 5,                // Velocidade r√°pida igual ao bio
                        mistype: false,          // Sem erros de digita√ß√£o
                        caret: false,            // Sem cursor durante a digita√ß√£o
                        fin: function(elm) {
                            // N√£o mostra cursor no final
                        }
                    });

                    // Funcionalidade dos bot√µes de navega√ß√£o para o Bio
                    $('#bio-scroll-up').on('click', function() {
                        const bioText = document.getElementById('bio-text');
                        bioText.scrollBy({
                            top: -100, // Rola 100px para cima
                            behavior: 'smooth'
                        });
                    });
                    
                    $('#bio-scroll-down').on('click', function() {
                        const bioText = document.getElementById('bio-text');
                        bioText.scrollBy({
                            top: 100, // Rola 100px para baixo
                            behavior: 'smooth'
                        });
                    });

                    // Funcionalidade dos bot√µes de navega√ß√£o para as Experi√™ncias
                    $('#middle-scroll-up').on('click', function() {
                        const middleContent = document.getElementById('middle-content');
                        middleContent.scrollBy({
                            top: -100, // Rola 100px para cima
                            behavior: 'smooth'
                        });
                    });
                    
                    $('#middle-scroll-down').on('click', function() {
                        const middleContent = document.getElementById('middle-content');
                        middleContent.scrollBy({
                            top: 100, // Rola 100px para baixo
                            behavior: 'smooth'
                        });
                    });

                    // Funcionalidade do bot√£o de tela cheia
                    $('#bio-fullscreen').on('click', function() {
                        // Remover completamente o elemento anterior e recriar
                        $('#bio-modal-text').remove();
                        $('.bio-modal-content').append('<div id="bio-modal-text"></div>');
                        
                        // Mostrar a modal
                        $('#bio-modal').addClass('active');
                        
                        // Prevenir rolagem no body
                        $('body').css('overflow', 'hidden');
                        
                        // Definir o texto para a anima√ß√£o
                        const bioContentModal = 
                            '<span style="color:lime;">BIO</span><hr/>' +
                            'De tudo um pouco. Artista Urbano, Designer Multim√≠dia, procuro sempre utilizar novas ' +
                            'tecnologias para impulsionar meu processo criativo.<br/>' +
                            'Do Graffiti ao Design Gr√°fico, comecei como artista 3D e na cria√ß√£o de ambientes digitais.<br/>' +
                            'Em minha trajet√≥ria acad√™mica, busquei projetos que misturassem esses meus dois mundos: arte ' +
                            'de rua, tecnologia e interatividade.<br/>' +
                            'Com temas que abordam a preserva√ß√£o da hist√≥ria e da mem√≥ria das cidades, e estudos sobre ' +
                            'as futuras rela√ß√µes dos seres humanos com o cen√°rio urbano.<br/>' +
                            '<span style="color:cyan;">Em 2022</span>, participei do programa de Inova√ß√£o Tecnol√≥gica da Apple Developer Academy, onde ' +
                            'me tornei desenvolvedor iOS.<br/>' +
                            'Em desenvolvimento de software, me aprofundei na cria√ß√£o de ferramentas com realidade ' +
                            'aumentada, realidade virtual, escaneamento 3D e solu√ß√µes que usam a c√¢mera do celular para ' +
                            'criar experi√™ncias imersivas dentro do ecossistema Apple.<br/>' +
                            '<span style="color:cyan;">Em 2023</span>, participei da curadoria e desenvolvimento de exposi√ß√µes em realidade aumentada em ' +
                            'Lisboa e em outros lugares do Brasil, incluindo a Embaixada do M√©xico com uma homenagem √† ' +
                            'Frida Kahlo.<br/>' +
                            '<span style="color:cyan;">Em 2024</span>, trabalhei como Designer de Novas M√≠dias voltado para o Entretenimento no est√∫dio ' +
                            'criativo de inova√ß√£o tecnol√≥gica DELED, onde trouxemos solu√ß√µes interativas, com instala√ß√µes e ' +
                            'projetos no Museu do Amanh√£, Rock in Rio e outras grandes marcas.<br/>' +
                            'Pra mim, cada projeto √© uma oportunidade de contar uma hist√≥ria e criar experi√™ncias ' +
                            'impactantes.<br/>' +
                            'Apaixonado por inova√ß√£o, estou sempre em busca de novas ferramentas, linguagens e formatos ' +
                            'para explorar o potencial expressivo da arte e da tecnologia.<br/>' +
                            '<span style="color:lime;">Acredito que a inova√ß√£o acontece quando misturamos diferentes √°reas e conhecimentos ‚Äî e √© ' +
                            'atrav√©s do trabalho em equipe e de trocas genu√≠nas que essas conex√µes se transformam em ' +
                            'ideias vivas, com pot√™ncia real de transforma√ß√£o.</span>';
                        
                        // Iniciar anima√ß√£o com velocidade extremamente r√°pida
                        setTimeout(function() {
                            $('#bio-modal-text').t(bioContentModal, {
                                speed: 0.5,            // Velocidade extremamente r√°pida (era 1, agora 0.5)
                                mistype: false,        // Sem erros de digita√ß√£o
                                caret: false,          // Sem cursor para n√£o distrair
                                fin: function(elm) {
                                    // Pulso ao finalizar
                                    App.triggerPulse();
                                }
                            });
                        }, 10); // Pequeno timeout para garantir que o DOM foi atualizado
                    });
                    
                    // Funcionalidade do bot√£o de fechar a modal
                    $('#bio-modal-close, #bio-modal').on('click', function(e) {
                        // Fechar apenas se clicou no X ou na √°rea fora do conte√∫do
                        if (e.target.id === 'bio-modal-close' || e.target.id === 'bio-modal') {
                            // Esconder a modal
                            $('#bio-modal').removeClass('active');
                            
                            // Restaurar rolagem no body
                            $('body').css('overflow', 'auto');
                            
                            // Destruir o elemento de texto completamente
                            $('#bio-modal-text').remove();
                        }
                    });
                }, 100); // Pequeno atraso para garantir que o frame j√° est√° vis√≠vel
            }, frameRevealDelay);
            // --- Fim do Atraso do Novo Frame ---

            // --- C√≥digo do Fundo de Part√≠culas Spipa (Adaptado de https://codepen.io/alexandrix/pen/oQOvYp) ---
            const App = {};
            App.setup = function() {
                const canvas = document.getElementById('particle-canvas'); // Usar nosso canvas existente
                this.filename = "spipa"; // Nome do arquivo para salvar (n√£o usado aqui)
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                this.canvas = canvas;
                // N√£o precisa adicionar ao body, j√° existe
                this.ctx = this.canvas.getContext('2d');
                this.width = this.canvas.width;
                this.height = this.canvas.height;
                this.dataToImageRatio = 1;
                this.ctx.imageSmoothingEnabled = false;
                // Removido: this.ctx.webkitImageSmoothingEnabled = false;
                // Removido: this.ctx.msImageSmoothingEnabled = false;
                this.xC = this.width / 2;
                this.yC = this.height / 2;
                
                this.stepCount = 0;
                this.particles = [];
                this.lifespan = 800; // Reduzido um pouco a vida das part√≠culas
                this.popPerBirth = 2; // Aumentado um pouco o nascimento
                this.maxPop = 200; // Diminuido um pouco a popula√ß√£o m√°xima
                this.birthFreq = 3; // Frequ√™ncia de nascimento

                this.particleHue = 120; // Matiz HSL Padr√£o (Verde)

                // Build grid
                this.gridSize = 10; // Aumentado tamanho da grid
                this.gridSteps = Math.floor(1000 / this.gridSize);
                this.grid = [];
                var i = 0;
                for (var xx = -500; xx < 500; xx += this.gridSize) {
                    for (var yy = -500; yy < 500; yy += this.gridSize) {
                    // Radial field, triangular function of r with max around r0
                    var r = Math.sqrt(xx*xx+yy*yy),
                        r0 = 150, // Aumentado raio do campo
                        field;
                    
                    if (r < r0) field = 255 / r0 * r;
                    else if (r > r0) field = 255 - Math.min(255, (r - r0)/1.5); // Ajustado decaimento
                    
                    this.grid.push({
                        x: xx,
                        y: yy,
                        busyAge: 0,
                        spotIndex: i,
                        isEdge: (xx == -500 || xx == (-500 + this.gridSize * (this.gridSteps-1)) || yy == -500 || yy == (-500 + this.gridSize *(this.gridSteps-1))),
                        field: field
                    });
                    i++;
                    }
                }
                this.gridMaxIndex = i;
                
                this.deathCount = 0; // Contador interno (n√£o exibido)
                
                // Vari√°veis para o pulso visual
                this.isPulsing = false;
                this.pulseEndTime = 0;
                this.pulseDuration = 300; // Dura√ß√£o do pulso em ms

                this.initDraw();
            };

            // Fun√ß√£o para acionar o pulso
            App.triggerPulse = function() {
                this.isPulsing = true;
                this.pulseEndTime = performance.now() + this.pulseDuration;
            };

            App.evolve = function() {
                // const time1 = performance.now(); // Desnecess√°rio sem UI de FPS
                
                this.stepCount++;
                
                // Increment all grid ages
                this.grid.forEach(function(e) {
                    if (e.busyAge > 0) e.busyAge++;
                });
                
                if (this.stepCount % this.birthFreq == 0 && (this.particles.length + this.popPerBirth) < this.maxPop) {
                    this.birth();
                }
                App.move();
                App.draw();
                
                // const time2 = performance.now(); // Desnecess√°rio
                // Atualiza√ß√£o da UI removida
            };

            App.birth = function() {
                var gridSpotIndex = Math.floor(Math.random() * this.gridMaxIndex),
                    gridSpot = this.grid[gridSpotIndex],
                    x = gridSpot.x, y = gridSpot.y;
                
                for (let i = 0; i < this.popPerBirth; i++) { // Gera popPerBirth part√≠culas
                    var particle = {
                        // Cor baseada no App.particleHue atual
                        hue: App.particleHue, 
                        sat: 95, 
                        lum: 50, // Luminosidade fixa em 50%
                        x: x,
                        y: y,
                        xLast: x,
                        yLast: y,
                        xSpeed: 0,
                        ySpeed: 0,
                        age: 0,
                        ageSinceStuck: 0,
                        attractor: {
                            oldIndex: gridSpotIndex,
                            gridSpotIndex: gridSpotIndex, // Pop at random position on grid
                        },
                        name: 'seed-' + Math.ceil(10000000 * Math.random())
                    };
                    this.particles.push(particle);
                }
            };

            App.kill = function(particleName) {
                // Substitui√ß√£o do _.reject e _.cloneDeep
                this.particles = this.particles.filter(seed => seed.name !== particleName);
            };

            // Fun√ß√£o auxiliar para encontrar o m√°ximo (substitui _.maxBy)
            function findMaxNeighbor(neighbors, chaos) {
                let maxField = -Infinity;
                let chosenSpot = neighbors[0]; // Default
                for (const spot of neighbors) {
                    if (spot) { // Verifica se o vizinho existe (n√£o √© undefined)
                        const currentField = spot.field + chaos * Math.random();
                        if (currentField > maxField) {
                            maxField = currentField;
                            chosenSpot = spot;
                        }
                    }
                }
                return chosenSpot;
            }

            App.move = function() {
                for (var i = 0; i < this.particles.length; i++) {
                    var p = this.particles[i];
                    
                    p.xLast = p.x; p.yLast = p.y;
                    
                    var index = p.attractor.gridSpotIndex,
                        gridSpot = this.grid[index];
                    
                    if (Math.random() < 0.6) { // Aumentada chance de mover atrator
                        if (!gridSpot.isEdge) {
                            var topIndex = index - 1,
                                bottomIndex = index + 1,
                                leftIndex = index - this.gridSteps,
                                rightIndex = index + this.gridSteps;
                                
                            // Verifica limites antes de acessar a grid para evitar erros
                            const neighbors = [
                                (topIndex >= 0 && index % this.gridSteps !== 0) ? this.grid[topIndex] : undefined,
                                (bottomIndex < this.gridMaxIndex && (index + 1) % this.gridSteps !== 0) ? this.grid[bottomIndex] : undefined, 
                                (leftIndex >= 0) ? this.grid[leftIndex] : undefined,
                                (rightIndex < this.gridMaxIndex) ? this.grid[rightIndex] : undefined
                            ].filter(spot => spot !== undefined); // Filtra vizinhos inv√°lidos

                            if (neighbors.length > 0) {
                                var chaos = 40; // Aumentado chaos
                                // Substitui√ß√£o do _.maxBy
                                var maxFieldSpot = findMaxNeighbor(neighbors, chaos);
                                
                                var potentialNewGridSpot = maxFieldSpot;
                                if (potentialNewGridSpot && (potentialNewGridSpot.busyAge == 0 || potentialNewGridSpot.busyAge > 10)) { // Ajustado busyAge
                                    p.ageSinceStuck = 0;
                                    p.attractor.oldIndex = index;
                                    p.attractor.gridSpotIndex = potentialNewGridSpot.spotIndex;
                                    gridSpot = potentialNewGridSpot;
                                    gridSpot.busyAge = 1;
                                } else p.ageSinceStuck++;
                            } else p.ageSinceStuck++;
                            
                        } else p.ageSinceStuck++;
                        
                        if (p.ageSinceStuck == 15) this.kill(p.name); // Aumentado limite para kill
                    }
                    
                    var k = 8, visc = 0.4;
                    var dx = p.x - gridSpot.x,
                        dy = p.y - gridSpot.y;
                    
                    var xAcc = -k * dx,
                        yAcc = -k * dy;
                    
                    p.xSpeed += xAcc; p.ySpeed += yAcc;
                    p.xSpeed *= visc; p.ySpeed *= visc;
                    
                    p.x += 0.1 * p.xSpeed;
                    p.y += 0.1 * p.ySpeed;
                    
                    p.age++;
                    
                    if (p.age > this.lifespan) {
                        this.kill(p.name);
                        this.deathCount++;
                    }
                }
            };

            App.initDraw = function() {
                this.ctx.fillStyle = 'black';
                this.ctx.fillRect(0, 0, this.width, this.height);
            };

            App.draw = function() {
                let trailOpacity = 0.1; // Opacidade normal do rastro

                // Verifica se est√° pulsando
                if (this.isPulsing) {
                    if (performance.now() < this.pulseEndTime) {
                        // Calcula a intensidade do pulso (decai com o tempo)
                        const timeRemaining = this.pulseEndTime - performance.now();
                        const pulseIntensity = Math.sin((timeRemaining / this.pulseDuration) * Math.PI); // Onda senoidal suave
                        trailOpacity = 0.1 + pulseIntensity * 0.15; // Aumenta a opacidade m√°xima do rastro para 0.25 no pico
                    } else {
                        this.isPulsing = false; // Termina o pulso
                    }
                }

                // Fundo com rastro (usa a opacidade calculada)
                this.ctx.fillStyle = `rgba(0, 0, 0, ${trailOpacity})`;
                this.ctx.fillRect(0, 0, this.width, this.height);
                
                for (var i = 0; i < this.particles.length; i++) {
                    var p = this.particles[i];
                    
                    // Usar o HUE armazenado na part√≠cula
                    var h = p.hue; 
                    var s = p.sat; // Usa satura√ß√£o da part√≠cula (j√° era 95)
                    var l = p.lum; // Usa luminosidade da part√≠cula (j√° era 50)
                    var a = Math.min(1, 1 - p.age / this.lifespan) * 0.8 + 0.2; // Opacidade diminui com a idade

                    var last = this.dataXYtoCanvasXY(p.xLast, p.yLast),
                        now = this.dataXYtoCanvasXY(p.x, p.y);
                    var attracSpot = this.grid[p.attractor.gridSpotIndex],
                        attracXY = this.dataXYtoCanvasXY(attracSpot.x, attracSpot.y);
                    var oldAttracSpot = this.grid[p.attractor.oldIndex],
                        oldAttracXY = this.dataXYtoCanvasXY(oldAttracSpot.x, oldAttracSpot.y);
                    
                    // Trilha da part√≠cula
                    this.ctx.beginPath();
                    this.ctx.strokeStyle = `hsla(${h}, ${s}%, ${l}%, ${a * 0.8})`; // Trilha um pouco mais fraca
                    this.ctx.lineWidth = 1.5 * this.dataToImageRatio;
                    this.ctx.moveTo(last.x, last.y);
                    this.ctx.lineTo(now.x, now.y);
                    this.ctx.stroke();
                    this.ctx.closePath();
                    
                    // C√≠rculo na posi√ß√£o atual da part√≠cula (opcional, para ver melhor)
                    /*
                    this.ctx.beginPath();
                    this.ctx.fillStyle = `hsla(${h}, ${s}%, ${l}%, ${a})`;
                    this.ctx.arc(now.x, now.y, 1 * this.dataToImageRatio, 0, 2 * Math.PI, false);
                    this.ctx.fill();
                    this.ctx.closePath();
                    */

                    // Linha para o atrator (opcional, debug)
                    /*
                    this.ctx.beginPath();
                    this.ctx.strokeStyle = `hsla(${h}, ${s}%, ${l}%, ${a * 0.2})`;
                    this.ctx.lineWidth = 1 * this.dataToImageRatio;
                    this.ctx.moveTo(now.x, now.y);
                    this.ctx.lineTo(attracXY.x, attracXY.y);
                    this.ctx.stroke();
                    this.ctx.closePath();
                    */
                }
            };

            App.dataXYtoCanvasXY = function(x, y) {
                var zoom = this.zoom || 1.8; // Usar propriedade zoom ou valor padr√£o
                var xx = this.xC + x * zoom * this.dataToImageRatio,
                    yy = this.yC + y * zoom * this.dataToImageRatio;
                
                return {x: xx, y: yy};
            };
            
            // M√©todo para definir o zoom
            App.setZoom = function(zoomValue) {
                this.zoom = zoomValue;
            };
            
            // M√©todo para obter o zoom atual
            App.getZoom = function() {
                return this.zoom || 1.8; // Retorna o zoom atual ou o valor padr√£o
            };

            // --- Inicializa√ß√£o e Loop --- 
            App.setup();
            App.draw(); // Desenho inicial
            
            function frame() {
                App.evolve();
                requestAnimationFrame(frame);
            }
            frame();

            // Ajustar canvas no redimensionamento (simplificado)
            window.addEventListener('resize', () => {
                App.canvas.width = window.innerWidth;
                App.canvas.height = window.innerHeight;
                App.width = App.canvas.width;
                App.height = App.canvas.height;
                App.xC = App.width / 2;
                App.yC = App.height / 2;
                App.initDraw(); // Limpa e redesenha o fundo
                // N√£o precisa recriar as part√≠culas, apenas ajustar a √°rea
            });
            // --- Fim do C√≥digo Spipa ---

            // --- L√≥gica do Chat Funcional ---
            const chatHistory = $('#chat-history');
            const chatInput = $('#chat-input');
            const chatSendBtn = $('#chat-send-btn');

            function addMessage(sender, message, isUser) {
                const senderClass = isUser ? 'user' : 'bot';
                const senderName = isUser ? 'You' : 'System'; // Vamos manter 'System' para a IA por enquanto
                const messageElement = $(`<p class="chat-message ${senderClass}"><span class="sender">${senderName}:</span> </p>`);
                messageElement.append(document.createTextNode(message)); // Append text safely
                chatHistory.append(messageElement);
                // Scroll to bottom
                chatHistory.scrollTop(chatHistory[0].scrollHeight);
            }

            async function handleSend() {
                const userMessage = chatInput.val().trim(); 
                if (userMessage) {
                    addMessage('You', userMessage, true); 
                    chatInput.val(''); 

                    App.triggerPulse(); 

                    const typingIndicatorHTML = `
                        <p class="chat-message bot typing-indicator" id="chat-typing-indicator">
                            <span class="typing-dots"><span>.</span><span>.</span><span>.</span></span>
                        </p>`;
                    chatHistory.append(typingIndicatorHTML);
                    chatHistory.scrollTop(chatHistory[0].scrollHeight);

                    // Simular resposta sem backend
                    setTimeout(() => {
                        $('#chat-typing-indicator').remove();
                        if (userMessage.toLowerCase().includes('clear')) {
                            chatHistory.empty();
                            addMessage('System', "Hist√≥rico do chat limpo.", false);
                        } else {
                            addMessage('System', "Entendi sua mensagem. Como estamos no GitHub Pages, as respostas da IA n√£o est√£o dispon√≠veis.", false);
                        }
                    }, 1500);
                }
            }

            // Enviar com bot√£o
            chatSendBtn.on('click', handleSend);

            // Enviar com Enter no input
            chatInput.on('keypress', function(e) {
                if (e.which === 13) { // 13 √© o c√≥digo da tecla Enter
                    handleSend();
                }
            });

            // --- Reatividade do Foco no Chat (REMOVIDO) ---
            /*
            const chatWindow = $('#chat-window');
            chatInput.on('focus', function() {
                chatWindow.addClass('chat-active');
            });
            chatInput.on('blur', function() {
                chatWindow.removeClass('chat-active');
            });
            */
            // --- Fim da Reatividade do Foco ---

            // --- Funcionalidade de Minimiza√ß√£o --- 
            // Fun√ß√£o para gerenciar o estado de minimiza√ß√£o/restaura√ß√£o de forma consistente
            function resetMinimizedState(frameId, iconId, shouldMinimize) {
                // Refer√™ncias aos elementos
                const $frame = $(frameId);
                const $icon = $(iconId);
                
                // Aplicar o estado correto
                if (shouldMinimize) {
                    // Se deve minimizar
                    $frame.addClass('minimized');
                    $icon.fadeIn(300);
                } else {
                    // Se deve restaurar
                    $icon.hide(); // Garantir que o √≠cone esteja oculto
                    $frame.removeClass('minimized');
                }
            }
            
            // Minimizar Chat
            $('#minimize-chat').on('click', function() {
                resetMinimizedState('#chat-window', '#ai-icon', true);
            });
            
            // Restaurar Chat
            $('#ai-icon').on('click', function() {
                $(this).fadeOut(200, function() {
                    $('#chat-window').removeClass('minimized');
                    
                    // Pulso para destacar a restaura√ß√£o
                    setTimeout(function() {
                        App.triggerPulse();
                    }, 300);
                });
            });
            
            // Minimizar Bio
            $('#minimize-bio').on('click', function() {
                resetMinimizedState('#info-frame', '#bio-icon', true);
            });
            
            // Restaurar Bio
            $('#bio-icon').on('click', function() {
                $(this).fadeOut(200, function() {
                    $('#info-frame').removeClass('minimized');
                    
                    // Pulso para destacar a restaura√ß√£o
                    setTimeout(function() {
                        App.triggerPulse();
                    }, 300);
                });
            });
            
            // Minimizar Frame Central
            $('#minimize-middle').on('click', function() {
                resetMinimizedState('#middle-frame', '#middle-icon', true);
            });
            
            // Restaurar Frame Central
            $('#middle-icon').on('click', function() {
                $(this).fadeOut(200, function() {
                    $('#middle-frame').removeClass('minimized');
                    
                    // Pulso para destacar a restaura√ß√£o
                    setTimeout(function() {
                        App.triggerPulse();
                    }, 300);
                });
            });

            // Minimizar ID Frame
            $('#minimize-id').on('click', function() {
                resetMinimizedState('#id-frame', '#id-icon', true);
            });
            
            $('#id-icon').on('click', function() {
                $(this).fadeOut(200, function() {
                    $('#id-frame').removeClass('minimized');
                    setTimeout(function() { App.triggerPulse(); }, 300);
                });
            });

            // Minimizar Skills Frame
            $('#minimize-skills').on('click', function() {
                resetMinimizedState('#skills-frame', '#skills-icon', true);
                resetSkillsAnimation(); // Resetar ao minimizar
            });
            
            $('#skills-icon').on('click', function() {
                $(this).fadeOut(200, function() {
                    $('#skills-frame').removeClass('minimized');
                    // Re-animar ao restaurar
                    $('#skills-frame .progress-bar-foreground').each(function() {
                        const percentage = $(this).data('percentage');
                        $(this).css('width', percentage);
                    });
                    setTimeout(function() { App.triggerPulse(); }, 300);
                });
            });
            // --- Fim da Minimiza√ß√£o ---

            // --- Funcionalidade Fullscreen para Chat ---
            // Abrir modal do chat 
            $('#chat-fullscreen').on('click', function() {
                // Sincronizar o conte√∫do do hist√≥rico do chat
                const chatHistory = $('#chat-history').html();
                $('#chat-modal-history').html(chatHistory);
                
                // Copiar o texto do input, se houver
                const inputText = $('#chat-input').val();
                $('#chat-modal-input').val(inputText);
                
                // Mostrar a modal
                $('#chat-modal').addClass('active');
                
                // Foco no input da modal
                setTimeout(function() {
                    $('#chat-modal-input').focus();
                }, 300);
                
                // Prevenir rolagem no body
                $('body').css('overflow', 'hidden');
                
                // Efeito visual
                App.triggerPulse();
            });
            
            // Fechar modal do chat
            $('#chat-modal-close, #chat-modal').on('click', function(e) {
                // Fechar apenas se clicou no X ou na √°rea fora do conte√∫do
                if (e.target.id === 'chat-modal-close' || e.target.id === 'chat-modal') {
                    // Sincronizar de volta para o chat original
                    const modalInputText = $('#chat-modal-input').val();
                    $('#chat-input').val(modalInputText);
                    
                    // Sincronizar de volta o hist√≥rico (caso tenha havido mensagens novas)
                    const modalChatHistory = $('#chat-modal-history').html();
                    $('#chat-history').html(modalChatHistory);
                    
                    // Fechar a modal
                    $('#chat-modal').removeClass('active');
                    
                    // Restaurar rolagem
                    $('body').css('overflow', 'auto');
                }
            });
            
            // Bot√£o de enviar na modal
            $('#chat-modal-send-btn').on('click', function() {
                const modalInput = $('#chat-modal-input').val();
                if (modalInput.trim() !== '') {
                    // Adicionar mensagem ao hist√≥rico da modal
                    $('#chat-modal-history').append('<p class="chat-message user"><span class="sender">You:</span> ' + modalInput + '</p>');
                    
                    // Adicionar resposta simulada
                    setTimeout(function() {
                        $('#chat-modal-history').append('<p class="chat-message bot"><span class="sender">System:</span> Command processed.</p>');
                        
                        // Rolar para o fim
                        const history = document.getElementById('chat-modal-history');
                        history.scrollTop = history.scrollHeight;
                    }, 500);
                    
                    // Limpar input
                    $('#chat-modal-input').val('').focus();
                }
            });
            
            // Enviar com Enter na modal
            $('#chat-modal-input').on('keypress', function(e) {
                if (e.which === 13) { // Enter key
                    $('#chat-modal-send-btn').click();
                    return false;
                }
            });
            // --- Fim da Funcionalidade Fullscreen Chat ---

            // --- Funcionalidade Fullscreen para Frame Central ---
            // Abrir modal do frame central
            $('#middle-fullscreen').on('click', function() {
                // Remover completamente o elemento anterior e recriar
                $('#middle-modal-content').remove();
                $('.middle-modal-content').append('<div id="middle-modal-content"></div>');
                
                // Mostrar a modal
                $('#middle-modal').addClass('active');
                
                // Prevenir rolagem no body
                $('body').css('overflow', 'hidden');
                
                // Definir o texto para a anima√ß√£o
                const experienciasContentModal = window.experienciasContent;
                
                // Iniciar anima√ß√£o com velocidade extremamente r√°pida
                setTimeout(function() {
                    $('#middle-modal-content').t(experienciasContentModal, {
                        speed: 0.5,            // Velocidade extremamente r√°pida
                        mistype: false,        // Sem erros de digita√ß√£o
                        caret: false,          // Sem cursor para n√£o distrair
                        fin: function(elm) {
                            // Pulso ao finalizar
                            App.triggerPulse();
                        }
                    });
                }, 10); // Pequeno timeout para garantir que o DOM foi atualizado
            });
            
            // Fechar modal do frame central
            $('#middle-modal-close, #middle-modal').on('click', function(e) {
                // Fechar apenas se clicou no X ou na √°rea fora do conte√∫do
                if (e.target.id === 'middle-modal-close' || e.target.id === 'middle-modal') {
                    // Fechar a modal
                    $('#middle-modal').removeClass('active');
                    
                    // Restaurar rolagem
                    $('body').css('overflow', 'auto');
                    
                    // Destruir o elemento de texto completamente
                    $('#middle-modal-content').empty();
                }
            });
            // --- Fim da Funcionalidade Fullscreen Frame Central ---

            // --- Funcionalidade Fullscreen para Frame de ID ---
            $('#id-fullscreen').on('click', function() {
                // Conte√∫do para a modal de ID (pode ser o mesmo do frame ou customizado)
                const idContentModal = $('#id-area').clone(); // Clone o conte√∫do ao inv√©s de usar html()

                // Limpar e preencher a √°rea de conte√∫do da modal
                $('#id-modal-content-area').empty().append(idContentModal);
                
                // Mostrar a modal
                $('#id-modal').addClass('active');
                
                // Prevenir rolagem no body
                $('body').css('overflow', 'hidden');
                
                // Efeito visual
                App.triggerPulse();
            });
            
            // Fechar modal do frame de ID
            $('#id-modal-close, #id-modal').on('click', function(e) {
                if (e.target.id === 'id-modal-close' || e.target.id === 'id-modal') {
                    $('#id-modal').removeClass('active');
                    $('body').css('overflow', 'auto');
                    $('#id-modal-content-area').empty(); // Limpa o conte√∫do ao fechar
                }
            });
            // --- Fim da Funcionalidade Fullscreen Frame de ID ---

            // --- Funcionalidade Fullscreen para Frame de Habilidades ---
            $('#skills-fullscreen').on('click', function() {
                const skillsContentModal = $('#skills-area').html(); 
                $('#skills-modal-content-area').html(skillsContentModal);
                $('#skills-modal').addClass('active');
                $('body').css('overflow', 'hidden');
                
                // Animar habilidades na modal ap√≥s um pequeno delay
                setTimeout(() => {
                    const $modal = $('#skills-modal-content-area');
                    
                    function animateModalSkillNames() {
                        return new Promise((resolve) => {
                            $modal.find('.skill-entry').each(function(index) {
                                setTimeout(() => {
                                    $(this).find('.skill-name').addClass('animate');
                                    if (index === $modal.find('.skill-entry').length - 1) {
                                        setTimeout(resolve, 500);
                                    }
                                }, index * 300);
                            });
                        });
                    }

                    function animateModalProgressBars() {
                        return new Promise((resolve) => {
                            $modal.find('.progress-bar-background').addClass('animate');
                            $modal.find('.skill-percentage').addClass('animate');
                            
                            setTimeout(() => {
                                $modal.find('.progress-bar-foreground').each(function() {
                                    const percentage = $(this).data('percentage');
                                    $(this).css('width', percentage);
                                });
                                resolve();
                            }, 800);
                        });
                    }

                    animateModalSkillNames()
                        .then(() => animateModalProgressBars())
                        .then(() => {
                            App.triggerPulse();
                        });
                }, 300);
            });
            
            // Adicionar l√≥gica para resetar as barras de progresso quando a modal de skills √© fechada
            // e quando o frame de skills √© minimizado (opcional, mas bom para re-anima√ß√£o)
            function resetSkillsAnimation() {
                const $frame = $('#skills-frame');
                $frame.find('.skill-name').removeClass('animate');
                $frame.find('.progress-bar-background').removeClass('animate');
                $frame.find('.progress-bar-foreground').css('width', '0');
                $frame.find('.skill-percentage').css('opacity', '0');
            }

            $('#skills-modal-close, #skills-modal').on('click', function(e) {
                if (e.target.id === 'skills-modal-close' || e.target.id === 'skills-modal') {
                    $('#skills-modal').removeClass('active');
                    $('body').css('overflow', 'auto');

                    // Sincronizar o estado das barras com o frame principal
                    const $modalBars = $('#skills-modal-content-area .progress-bar-foreground');
                    const $frameBars = $('#skills-frame .progress-bar-foreground');
                    
                    $modalBars.each(function(index) {
                        const width = $(this).css('width');
                        $frameBars.eq(index).css('width', width);
                    });

                    // Garantir que as classes de anima√ß√£o estejam aplicadas no frame principal
                    $('#skills-frame .skill-name').addClass('animate');
                    $('#skills-frame .progress-bar-background').addClass('animate');
                    $('#skills-frame .skill-percentage').addClass('animate');

                    // Limpar a modal
                    $('#skills-modal-content-area').empty();
                }
            });

            // Modificar a fun√ß√£o resetSkillsAnimation para manter o estado quando necess√°rio
            function resetSkillsAnimation(fullReset = false) {
                const $frame = $('#skills-frame');
                if (fullReset) {
                    // Reset completo para minimiza√ß√£o
                    $frame.find('.skill-name').removeClass('animate');
                    $frame.find('.progress-bar-background').removeClass('animate');
                    $frame.find('.progress-bar-foreground').css('width', '0');
                    $frame.find('.skill-percentage').removeClass('animate');
                } else {
                    // Reset parcial mantendo o estado das barras
                    $frame.find('.progress-bar-background').removeClass('animate').addClass('animate');
                    $frame.find('.skill-percentage').removeClass('animate').addClass('animate');
                }
            }

            // Atualizar o handler de minimiza√ß√£o para usar o reset completo
            $('#minimize-skills').on('click', function() {
                resetMinimizedState('#skills-frame', '#skills-icon', true);
                resetSkillsAnimation(true); // Reset completo ao minimizar
            });

            // Atualizar o handler de restaura√ß√£o
            $('#skills-icon').on('click', function() {
                $(this).fadeOut(200, function() {
                    $('#skills-frame').removeClass('minimized');
                    
                    // Re-animar ao restaurar
                    setTimeout(() => {
                        animateSkillNames($('#skills-frame'))
                            .then(() => animateProgressBars($('#skills-frame')))
                            .then(() => {
                                App.triggerPulse();
                            });
                    }, 300);
                });
            });
            // --- Fim da Funcionalidade Fullscreen Frame de Habilidades ---

            // --- Funcionalidade do Modo Perform ---
            // Ativar o modo perform com o bot√£o do chat
            $('#chat-perform').on('click', function() {
                activatePerformMode();
            });
            
            // Ativar o modo perform com o bot√£o superior
            $('#top-perform').on('click', function() {
                activatePerformMode();
            });
            
            // Fun√ß√£o para ativar o modo perform (centralizada para ambos os bot√µes)
            function activatePerformMode() {
                isInPerformMode = true; // ATUALIZA O ESTADO
                keySequenceBuffer = ""; // Limpa o buffer ao entrar no modo perform
                
                // Esconder todas as janelas
                $('#chat-window, #info-frame, #middle-frame, #id-frame, #skills-frame').addClass('minimized');
                
                // ESCONDER O BOT√ÉO #top-perform
                $('#top-perform').addClass('hidden-in-perform-mode');
                
                // Esconder o bot√£o Portfolio com anima√ß√£o
                $('#portfolio-btn').addClass('hide-portfolio');
                
                // Esconder o container de √≠cones flutuantes para uma transi√ß√£o suave
                $('.floating-icons-container').addClass('hidden');
                
                // Mostrar o container perform
                $('#perform-container').css('display', 'flex').hide().fadeIn(300);
                
                // Focar no input
                setTimeout(function() {
                    $('#perform-input').focus();
                }, 300);
                
                // Efeito visual ao entrar no modo
                App.triggerPulse();
                
                // Aumentar discretamente o zoom das part√≠culas do fundo
                App.setZoom(2.5); // Aumenta o zoom para destacar o padr√£o central
                
                // Mensagem inicial de boas-vindas
                setTimeout(function() {
                    addPerformMessage("Sistema em modo imersivo. O que quer saber sobre mim?", false);
                }, 500);
            }
            
            // Sair do modo perform
            $('#exit-perform-btn').on('click', function() {
                isInPerformMode = false; // ATUALIZA O ESTADO
                isInPersonaEditMode = false; // Garante que saia do modo de edi√ß√£o tamb√©m
                App.particleHue = 120; // Restaura para Verde
                $('body').removeClass('persona-edit-theme-active'); // DESATIVA TEMA LARANJA
                keySequenceBuffer = ""; // Limpa o buffer
                
                // Esconder o container perform
                $('#perform-container').fadeOut(400);

                // MOSTRAR O BOT√ÉO #top-perform NOVAMENTE
                $('#top-perform').removeClass('hidden-in-perform-mode');
                
                // Mostrar o bot√£o Portfolio novamente
                setTimeout(() => {
                    $('#portfolio-btn').removeClass('hide-portfolio').fadeIn(1000);
                }, 500);
                
                // Restaurar zoom normal
                setTimeout(function() {
                    App.setZoom(1.8); // Volta ao zoom original
                }, 200);
                
                // Mostrar todas as janelas novamente 
                setTimeout(function() {
                    // Restaurar todas as janelas sem mostrar √≠cones flutuantes
                    resetMinimizedState('#chat-window', '#ai-icon', false);
                    resetMinimizedState('#info-frame', '#bio-icon', false);
                    resetMinimizedState('#middle-frame', '#middle-icon', false);
                    resetMinimizedState('#id-frame', '#id-icon', false);
                    resetMinimizedState('#skills-frame', '#skills-icon', false);
                    
                    // Mostrar novamente o container de √≠cones flutuantes
                    $('.floating-icons-container').removeClass('hidden');
                    
                    // Efeito visual ao sair do modo
                    App.triggerPulse();
                }, 500);
            });
            
            // Adicionar mensagem ao modo perform
            function addPerformMessage(message, isUser) {
                const messageElement = $('<div class="perform-message ' + (isUser ? 'user' : '') + '"></div>');
                
                $('#perform-messages').append(messageElement);

                // N√ÉO USAR MAIS t.js PARA NENHUMA MENSAGEM NO MODO PERFORM
                messageElement.text(message); // Adiciona o texto diretamente
                messageElement.addClass('visible'); // Torna vis√≠vel imediatamente
                
                const container = document.getElementById('perform-messages');
                container.scrollTop = container.scrollHeight; // Scroll para o fim
                
                // Efeito visual ao terminar de digitar (apenas para respostas do sistema/IA)
                if (!isUser) {
                    App.triggerPulse();
                }

                // Limitar n√∫mero de mensagens (manter apenas as 5 mais recentes)
                if ($('#perform-messages .perform-message').length > 5) {
                    $('#perform-messages .perform-message').first().fadeOut(500, function() {
                        $(this).remove();
                    });
                }
            }
            
            // Enviar mensagem no modo perform
            async function handlePerformSend() {
                const userInput = $('#perform-input').val().trim();
                if (userInput) {
                    $('#perform-input').val('');
                    
                    if (isInPersonaEditMode) {
                        addPerformMessage(userInput, true);
                        App.triggerPulse();

                        if (userInput.toLowerCase() === "sair da edi√ß√£o") {
                            isInPersonaEditMode = false;
                            App.particleHue = 120;
                            $('body').removeClass('persona-edit-theme-active');
                            addPerformMessage("Modo de Edi√ß√£o de Persona DESATIVADO. Retornando ao modo normal.", false);
                            $('#perform-input').attr('placeholder', 'Digite seu comando aqui...');
                            App.triggerPulse();
                            return;
                        }

                        setTimeout(() => {
                            addPerformMessage("Modo de edi√ß√£o de persona ativo. Note que no GitHub Pages as atualiza√ß√µes n√£o s√£o salvas.", false);
                            App.triggerPulse();
                        }, 1000);

                    } else {
                        addPerformMessage(userInput, true);
                        App.triggerPulse();
                        
                        const lowerInput = userInput.toLowerCase();

                        if (lowerInput === 'clear') {
                            $('#perform-messages').empty();
                            addPerformMessage("√Årea de mensagens limpa. Aguardando novos comandos.", false);
                            App.triggerPulse();
                        } else if (lowerInput === 'zoom+') {
                            App.setZoom(App.getZoom() + 0.5);
                            addPerformMessage("Aumentando visualiza√ß√£o do sistema.", false);
                            App.triggerPulse();
                        } else if (lowerInput === 'zoom-') {
                            App.setZoom(Math.max(1.5, App.getZoom() - 0.5));
                            addPerformMessage("Reduzindo visualiza√ß√£o do sistema.", false);
                            App.triggerPulse();
                        } else {
                            setTimeout(() => {
                                addPerformMessage("Comando recebido. Note que no GitHub Pages as respostas da IA n√£o est√£o dispon√≠veis.", false);
                                App.triggerPulse();
                            }, 1000);
                        }
                    }
                }
            }
            
            // Enviar mensagem com bot√£o no modo perform
            $('#perform-send-btn').on('click', handlePerformSend);
            
            // Enviar mensagem com Enter no modo perform
            $('#perform-input').on('keypress', function(e) {
                if (e.which === 13) { // Enter key
                    handlePerformSend();
                    return false;
                }
            });
            // --- Fim da Funcionalidade do Modo Perform ---

            // --- Listener para sequ√™ncia de teclas "admin" ---
            $(document).on('keydown', function(event) {
                if (isInPerformMode && document.activeElement !== document.getElementById('perform-input') && !$('#admin-password-modal').is(':visible')) {
                    const key = event.key.toLowerCase();
                    
                    // Adiciona apenas caracteres alfanum√©ricos simples ao buffer
                    if (key.length === 1 && key.match(/[a-z0-9]/i)) {
                        keySequenceBuffer += key;
                        
                        // Mant√©m o buffer do tamanho da sequ√™ncia alvo
                        if (keySequenceBuffer.length > targetSequence.length) {
                            keySequenceBuffer = keySequenceBuffer.substring(keySequenceBuffer.length - targetSequence.length);
                        }
                        
                        if (keySequenceBuffer === targetSequence) {
                            tryEnterAdminMode();
                            keySequenceBuffer = ""; // Limpa o buffer ap√≥s tentativa
                        }
                    } else {
                        // Se n√£o for uma tecla desejada (ex: Shift, Ctrl), limpa o buffer
                        // Exceto se for backspace e o buffer n√£o estiver vazio, para permitir corre√ß√£o
                        if (key !== 'backspace' || keySequenceBuffer === "") {
                            keySequenceBuffer = ""; 
                        }
                    }
                }
            });

            function tryEnterAdminMode() {
                if (isInPersonaEditMode) {
                    return;
                }
                // Mostrar o modal e focar no input
                $('#admin-password-error').hide(); // Esconde mensagem de erro antiga
                $('#admin-password-modal').fadeIn();
                $('#admin-password-input').val('').focus(); // Limpa e foca
                keySequenceBuffer = ""; // Limpa o buffer para n√£o reativar com teclas presas
            }

            // Listener para o bot√£o "Entrar" do modal de senha
            $('#admin-password-submit').on('click', function() {
                const enteredPassword = $('#admin-password-input').val();
                if (enteredPassword === adminPassword) {
                    isInPersonaEditMode = true;
                    App.particleHue = 30; // Muda para Laranja
                    $('body').addClass('persona-edit-theme-active'); // ATIVA TEMA LARANJA
                    $('#perform-messages').empty(); 
                    addPerformMessage("Modo de Edi√ß√£o de Persona ATIVADO. Conte-me sobre voc√™. O que devo saber para te representar? (Digite 'sair da edi√ß√£o' para finalizar)", false);
                    $('#perform-input').attr('placeholder', 'Descreva-se ou fa√ßa perguntas para moldar a persona...');
                    
                    $('#admin-password-modal').fadeOut();
                    $('#admin-password-input').val(''); 
                    $('#admin-password-error').hide();
                    App.triggerPulse();
                } else {
                    $('#admin-password-error').show();
                    $('#admin-password-input').val('').focus(); // Limpa e foca novamente
                }
            });

            // Listener para o bot√£o "Cancelar" do modal de senha
            $('#admin-password-cancel').on('click', function() {
                $('#admin-password-modal').fadeOut();
                $('#admin-password-input').val('');
                $('#admin-password-error').hide();
                keySequenceBuffer = ""; // Importante para n√£o reativar modal
            });

            // Listener para tecla "Enter" no input de senha do modal
            $('#admin-password-input').on('keypress', function(e) {
                if (e.which === 13) { // Enter key
                    $('#admin-password-submit').click();
                }
            });

            // Listener para tecla "Escape" para fechar o modal de senha
            $(document).on('keydown', function(event) {
                if (event.key === "Escape" && $('#admin-password-modal').is(':visible')) {
                    $('#admin-password-cancel').click();
                }
            });

            // --- Fim do Listener "admin" ---

            // --- Funcionalidade de Limpeza do Chat Inicial ---
            // Limpar mensagens iniciais ap√≥s algum tempo
            setTimeout(function() {
                // Verificar se h√° mensagens no chat
                if ($('#chat-history .chat-message').length > 0) {
                    // Adicionar mensagem de limpeza
                    const cleanupMessage = $('<div class="system-cleanup-message">Sistema inicializado. Limpando mensagens de diagn√≥stico...</div>');
                    $('#chat-history').append(cleanupMessage);
                    
                    // Mostrar a mensagem de limpeza com delay
                    setTimeout(function() {
                        cleanupMessage.addClass('visible');
                        
                        // Adicionar classe de retra√ß√£o para mensagens existentes
                        $('#chat-history .chat-message').addClass('retracting-message');
                        
                        // Ap√≥s a anima√ß√£o, remover as mensagens antigas e mostrar mensagem de boas-vindas
                        setTimeout(function() {
                            // Aplicar anima√ß√£o de limpeza
                            $('#chat-history .chat-message').addClass('clearing');
                            
                            // Ap√≥s a limpeza, remover as mensagens e adicionar nova
                            setTimeout(function() {
                                // Remover mensagens retra√≠das
                                $('#chat-history .chat-message').remove();
                                cleanupMessage.remove();
                                
                                // Adicionar nova mensagem de boas-vindas
                                $('#chat-history').append('<p class="chat-message bot"><span class="sender">System:</span> Sess√£o iniciada. O que quer saber sobre mim?</p>');
                                
                                // Efeito visual para destacar a mudan√ßa
                                App.triggerPulse();
                            }, 1000);
                        }, 2000);
                    }, 300);
                }
            }, 15000); // 15 segundos ap√≥s inicializa√ß√£o
            // --- Fim da Limpeza do Chat Inicial ---

            // --- Conte√∫do das Experi√™ncias ---
            window.experienciasContent = 
                '<span style="color:lime;">EXPERI√äNCIAS</span><hr/>' +
                '<span style="color:cyan;">Workshop Design Gr√°fico</span> ‚Äì IED Rio (Instituto Europeu de Design).<br/>' +
                '<span style="color:cyan;">Intensivo EBAC</span> (Escola Brit√¢nica de Artes Criativas) ‚Äì Desenvolvimento de Games.<br/>' +
                '<span style="color:cyan;">Programa de Inova√ß√£o Tecnol√≥gica</span> ‚Äì Apple Developer Academy (2022/2023).<br/>' +
                '<span style="color:cyan;">Curso de Programa√ß√£o Visual</span> ‚Äì cc.espa√ßo.<br/>' +
                '<span style="color:cyan;">BRIFW</span> ‚Äì Vencedor do concurso Horizon Latin.x ‚Äì Brazilian Immersive Fashion Week 2022 e 2023.<br/>' +
                '<span style="color:cyan;">Workshop</span> ‚Äì Inova√ß√£o para Cidades Inteligentes e Sustent√°veis ‚ÄìFIRJAN SESI-RJ.<br/>' +
                '<span style="color:cyan;">Studio Kwo</span> - Desenvolvedor Junior para experiencia em Realidade Virtual.<br/>' +
                '<span style="color:cyan;">Shell Iniciativa Jovem</span> - Programa de Empreendedorismo e Inova√ß√£o.<br/>' +
                '<span style="color:cyan;">Exposi√ß√µes em Realidade Aumentada:</span><br/>' +
                'Lisboa ‚Äì Galeria 284<br/>' +
                'Homenagem √† Frida Kahlo ‚Äì Embaixada do M√©xico, Bras√≠lia.<br/>' +
                '<span style="color:cyan;">Monitoria e coordena√ß√£o</span> de tecnologias do Laborat√≥rio de Atividades do Amanh√£ / Museu do Amanh√£<br/>' +
                '<span style="color:cyan;">Instala√ß√£o Imersiva</span> - Projeto Art√≠stico na Ativa√ß√£o MOV.DOME, experi√™ncia audiovisual Proje√ß√£o em Domo para o festival Rock The Mountain.<br/>' +
                '<span style="color:cyan;">Ativa√ß√£o de marca</span> e Instala√ß√£o no Rock in Rio 2024 para a TIM.<br/>' +
                '<span style="color:cyan;">Semana de Design PUC-Rio</span> ‚Äì Cria√ß√£o do primeiro espa√ßo digital no metaverso da universidade<br/>' +
                '<span style="color:cyan;">ECOA-PUC RIO</span> ‚Äì Organiza√ß√£o de workshops sobre realidade aumentada e novas tecnologias.<br/>' +
                '<span style="color:cyan;">Workshops</span> sobre Web 3.0 e tecnologias emergentes.<br/>' +
                '<span style="color:cyan;">ECOA-PUC RIO</span> - Curso de Intelig√™ncia Artificial Generativa e Prompt Engineering.<br/>' +
                '<span style="color:cyan;">Extens√£o PUC RIO</span> - Desenvolvimento de ChatBot e NLP para Intelig√™ncia Artificial.<br/>' +
                '<span style="color:cyan;">Roda de conversa</span> sobre streaming com Jos√© Bonif√°cio (Boninho).<br/>' +
                '<span style="color:cyan;">Apresenta√ß√£o de projetos</span> para Apple EUA e Apple Brasil envolvendo escaneamento 3D.';

            // --- Fim da Funcionalidade do Modo Perform ---

            // Verificar o estado inicial de todas as janelas ao carregar a p√°gina
            function checkInitialWindowStates() {
                // Verificar cada janela e garantir que os √≠cones flutuantes estejam no estado correto
                const windowsConfig = [
                    { frameId: '#id-frame', iconId: '#id-icon' }, 
                    { frameId: '#chat-window', iconId: '#ai-icon' },
                    { frameId: '#info-frame', iconId: '#bio-icon' },
                    { frameId: '#middle-frame', iconId: '#middle-icon' },
                    { frameId: '#skills-frame', iconId: '#skills-icon' } // Adiciona skills
                ];
                
                windowsConfig.forEach(config => {
                    const $frame = $(config.frameId);
                    const $icon = $(config.iconId);
                    
                    // Se a janela estiver minimizada, mostrar √≠cone, caso contr√°rio, esconder
                    if ($frame.hasClass('minimized')) {
                        $icon.show();
                    } else {
                        $icon.hide();
                    }
                });
            }
            
            // Verificar estados iniciais ap√≥s um curto delay para garantir que as classes foram aplicadas
            setTimeout(checkInitialWindowStates, 1000);
            
            // Checar os estados tamb√©m ap√≥s a anima√ß√£o inicial das janelas
            setTimeout(checkInitialWindowStates, 8000);

            // --- Configura√ß√£o do Bot√£o Portfolio ---
            $('#portfolio-btn').hide(); // Inicialmente oculto
            setTimeout(() => {
                $('#portfolio-btn').fadeIn(1000); // Aparece ap√≥s 1 segundo
                console.log('Portfolio button should be visible now'); // Debug
            }, 2000); // Reduzido para 2 segundos

            $('#portfolio-btn').on('click', function() {
                // Aqui voc√™ pode adicionar a funcionalidade do bot√£o
                App.triggerPulse(); // Efeito visual ao clicar
            });

            $(document).ready(function() {
                // --- Configura√ß√£o do Bot√£o Portfolio ---
                            setTimeout(() => {                $('#portfolio-btn').addClass('button-visible');            }, 20000); // Aparece ap√≥s 20 segundos, similar aos frames

                // ... existing code ...
            });

            // --- Configura√ß√£o do Bot√£o Portfolio ---
            setTimeout(() => {
                $('#portfolio-btn').addClass('button-visible');
            }, 20000); // Aparece ap√≥s 20 segundos

            // Adiciona o evento de clique para o bot√£o Portfolio
            $('#portfolio-btn').on('click', function() {
                window.open('https://neznunez.github.io/PortFolio2024/index.html', '_blank');
                App.triggerPulse(); // Efeito visual ao clicar
            });

            // ... existing code ...
        });
    </script>
    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="./t.min.js"></script>
    <script src="./script.js"></script>
    <script src="./chat.js"></script>
</body>
</html> 
</html> 